<div class="container" ng-controller="MyController as controller" ng-init="controller.init()">
	<div class="page-header">
		<h1>Pessoas - Consulta</h1>
	</div>
	<div class="alert {{ controller.alerta.status }}" role="alert" ng-hide="controller.alerta == null">
	  {{ controller.alerta.msg }} 
	</div>

	<form class="form-horizontal">

		<div style="text-align: right;">
			<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modalCadastro" ng-click="controller.limparCampos()">Novo</button>
		</div>

		<table class="table table-striped table-hover">
			<thead>
				<tr>
					<th scope="col" style="width:15%;">C&oacute;digo</th>
					<th scope="col">Nome</th>
					<th scope="col" align="center" style="width: 200px;"></th>
				</tr>			
			</thead>
			<tbody>
				<tr ng-hide="controller.items && controller.items.length > 0">
					<td colspan="3" align="center">N&atilde;o existem registros</td>
				</tr>
				<tr ng-repeat="item in controller.items">
					<td>{{ item.codigo }}</td>
					<td>{{ item.nome }}</td>
					<td align="center" style="width: 200px;">
						<button type="button" class="btn btn-warning btn-sm" ng-click="controller.carregarItem(item)" data-toggle="modal" data-target="#modalCadastro">Editar</button>
						<button type="button" class="btn btn-danger btn-sm" data-toggle="modal" ng-click="controller.setNewItem(item)" data-target="#confirm-delete">Excluir</button>
					</td>
				</tr>
			</tbody>
		</table>
		<hr/>
	</form>
	
	<!-- Modal -->
	<div class="modal fade" id="modalCadastro" tabindex="-1" role="dialog" aria-labelledby="modalCadastroLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h3 class="modal-title col-sm-10" id="modalCadastroLabel">Pessoa - Cadastro</h3>
			        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			          <span aria-hidden="true">&times;</span>
			        </button>
      			</div>
				<div class="modal-body">
					<div class="alert {{ controller.alertaCadastro.status }}" role="alert" ng-hide="controller.alertaCadastro == null">
					  {{ controller.alertaCadastro.msg }} 
					</div>
			      	<div class="form-group row">
						<div class="col-sm-4">
							<input class="form-control" type="text" ng-model="controller.newItem.codigo" placeholder="C&oacute;digo" disabled="true"/>
						</div>
						<div class="col-sm-8">
							<input class="form-control" type="text" ng-model="controller.newItem.nome" placeholder="Nome"/>
						</div>
					</div>
				</div>
				<div class="modal-footer">
			        <button type="button" class="btn btn-secondary" ng-click="controller.closeModalCadastro()">Sair</button>
			        <button ng-click="controller.updateItem()" class="btn btn-primary">Salvar</button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="confirm-delete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	    <div class="modal-dialog">
	        <div class="modal-content">
	            <div class="modal-header">
					<h3 class="modal-title col-sm-10" id="modalCadastroLabel">Confirma&ccedil;&atilde;o</h3>
			        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			          <span aria-hidden="true">&times;</span>
			        </button>
      			</div>
	            <div class="modal-body">
	                <p>Deseja realmente excluir este registro?</p>
	            </div>
	            <div class="modal-footer">
	                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
	                <button type="button" class="btn btn-danger" ng-click="controller.deleteItem()" data-dismiss="modal">Excluir</button>
	            </div>
	        </div>
	    </div>
	</div>

</div>

